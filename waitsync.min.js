function WaitSync(c){var b=0;var a={};this.wrap=function(e,d){b++;var f=false;return function(){var g=e.apply(d,arguments);if(f){return g}b--;f=true;if(b===0){c()}return g}};this.wrapGroup=function(g,e,d){if(a[g]!==false){a[g]=false;b++}var f=false;return function(){var h=e.apply(d,arguments);if(f){return h}if(!a[g]){b--;a[g]=true;if(b===0){c()}}return h}}};